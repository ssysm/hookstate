{"version":3,"file":"index.js","sources":["../node_modules/is-plain-obj/index.js","../node_modules/merge-options/index.js","../node_modules/@react-native-async-storage/async-storage/lib/module/AsyncStorage.js","../src/PersistenceRN.ts"],"sourcesContent":["'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n","'use strict';\nconst isOptionObject = require('is-plain-obj');\n\nconst {hasOwnProperty} = Object.prototype;\nconst {propertyIsEnumerable} = Object;\nconst defineProperty = (object, name, value) => Object.defineProperty(object, name, {\n\tvalue,\n\twritable: true,\n\tenumerable: true,\n\tconfigurable: true\n});\n\nconst globalThis = this;\nconst defaultMergeOptions = {\n\tconcatArrays: false,\n\tignoreUndefined: false\n};\n\nconst getEnumerableOwnPropertyKeys = value => {\n\tconst keys = [];\n\n\tfor (const key in value) {\n\t\tif (hasOwnProperty.call(value, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\n\t/* istanbul ignore else  */\n\tif (Object.getOwnPropertySymbols) {\n\t\tconst symbols = Object.getOwnPropertySymbols(value);\n\n\t\tfor (const symbol of symbols) {\n\t\t\tif (propertyIsEnumerable.call(value, symbol)) {\n\t\t\t\tkeys.push(symbol);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn keys;\n};\n\nfunction clone(value) {\n\tif (Array.isArray(value)) {\n\t\treturn cloneArray(value);\n\t}\n\n\tif (isOptionObject(value)) {\n\t\treturn cloneOptionObject(value);\n\t}\n\n\treturn value;\n}\n\nfunction cloneArray(array) {\n\tconst result = array.slice(0, 0);\n\n\tgetEnumerableOwnPropertyKeys(array).forEach(key => {\n\t\tdefineProperty(result, key, clone(array[key]));\n\t});\n\n\treturn result;\n}\n\nfunction cloneOptionObject(object) {\n\tconst result = Object.getPrototypeOf(object) === null ? Object.create(null) : {};\n\n\tgetEnumerableOwnPropertyKeys(object).forEach(key => {\n\t\tdefineProperty(result, key, clone(object[key]));\n\t});\n\n\treturn result;\n}\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {string[]} keys keys to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nconst mergeKeys = (merged, source, keys, config) => {\n\tkeys.forEach(key => {\n\t\tif (typeof source[key] === 'undefined' && config.ignoreUndefined) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Do not recurse into prototype chain of merged\n\t\tif (key in merged && merged[key] !== Object.getPrototypeOf(merged)) {\n\t\t\tdefineProperty(merged, key, merge(merged[key], source[key], config));\n\t\t} else {\n\t\t\tdefineProperty(merged, key, clone(source[key]));\n\t\t}\n\t});\n\n\treturn merged;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n *\n * see [Array.prototype.concat ( ...arguments )](http://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.concat)\n */\nconst concatArrays = (merged, source, config) => {\n\tlet result = merged.slice(0, 0);\n\tlet resultIndex = 0;\n\n\t[merged, source].forEach(array => {\n\t\tconst indices = [];\n\n\t\t// `result.concat(array)` with cloning\n\t\tfor (let k = 0; k < array.length; k++) {\n\t\t\tif (!hasOwnProperty.call(array, k)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tindices.push(String(k));\n\n\t\t\tif (array === merged) {\n\t\t\t\t// Already cloned\n\t\t\t\tdefineProperty(result, resultIndex++, array[k]);\n\t\t\t} else {\n\t\t\t\tdefineProperty(result, resultIndex++, clone(array[k]));\n\t\t\t}\n\t\t}\n\n\t\t// Merge non-index keys\n\t\tresult = mergeKeys(result, array, getEnumerableOwnPropertyKeys(array).filter(key => !indices.includes(key)), config);\n\t});\n\n\treturn result;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nfunction merge(merged, source, config) {\n\tif (config.concatArrays && Array.isArray(merged) && Array.isArray(source)) {\n\t\treturn concatArrays(merged, source, config);\n\t}\n\n\tif (!isOptionObject(source) || !isOptionObject(merged)) {\n\t\treturn clone(source);\n\t}\n\n\treturn mergeKeys(merged, source, getEnumerableOwnPropertyKeys(source), config);\n}\n\nmodule.exports = function (...options) {\n\tconst config = merge(clone(defaultMergeOptions), (this !== globalThis && this) || {}, defaultMergeOptions);\n\tlet merged = {_: {}};\n\n\tfor (const option of options) {\n\t\tif (option === undefined) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!isOptionObject(option)) {\n\t\t\tthrow new TypeError('`' + option + '` is not an Option Object');\n\t\t}\n\n\t\tmerged = merge(merged, {_: option}, config);\n\t}\n\n\treturn merged._;\n};\n","/**\n * Copyright (c) Nicolas Gallagher.\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n// @ts-ignore Cannot find module 'merge-options' or its corresponding type declarations\nimport mergeOptions from 'merge-options';\nconst merge = mergeOptions.bind({\n  concatArrays: true,\n  ignoreUndefined: true\n});\n\nfunction mergeLocalStorageItem(key, value) {\n  const oldValue = window.localStorage.getItem(key);\n\n  if (oldValue) {\n    const oldObject = JSON.parse(oldValue);\n    const newObject = JSON.parse(value);\n    const nextValue = JSON.stringify(merge(oldObject, newObject));\n    window.localStorage.setItem(key, nextValue);\n  } else {\n    window.localStorage.setItem(key, value);\n  }\n}\n\nfunction createPromise(getValue, callback) {\n  return new Promise((resolve, reject) => {\n    try {\n      const value = getValue();\n      callback === null || callback === void 0 ? void 0 : callback(null, value);\n      resolve(value);\n    } catch (err) {\n      callback === null || callback === void 0 ? void 0 : callback(err);\n      reject(err);\n    }\n  });\n}\n\nfunction createPromiseAll(promises, callback, processResult) {\n  return Promise.all(promises).then(result => {\n    var _processResult;\n\n    const value = (_processResult = processResult === null || processResult === void 0 ? void 0 : processResult(result)) !== null && _processResult !== void 0 ? _processResult : null;\n    callback === null || callback === void 0 ? void 0 : callback(null, value);\n    return Promise.resolve(value);\n  }, errors => {\n    callback === null || callback === void 0 ? void 0 : callback(errors);\n    return Promise.reject(errors);\n  });\n}\n\nconst AsyncStorage = {\n  /**\n   * Fetches `key` value.\n   */\n  getItem: (key, callback) => {\n    return createPromise(() => window.localStorage.getItem(key), callback);\n  },\n\n  /**\n   * Sets `value` for `key`.\n   */\n  setItem: (key, value, callback) => {\n    return createPromise(() => window.localStorage.setItem(key, value), callback);\n  },\n\n  /**\n   * Removes a `key`\n   */\n  removeItem: (key, callback) => {\n    return createPromise(() => window.localStorage.removeItem(key), callback);\n  },\n\n  /**\n   * Merges existing value with input value, assuming they are stringified JSON.\n   */\n  mergeItem: (key, value, callback) => {\n    return createPromise(() => mergeLocalStorageItem(key, value), callback);\n  },\n\n  /**\n   * Erases *all* AsyncStorage for the domain.\n   */\n  clear: callback => {\n    return createPromise(() => window.localStorage.clear(), callback);\n  },\n\n  /**\n   * Gets *all* keys known to the app, for all callers, libraries, etc.\n   */\n  getAllKeys: callback => {\n    return createPromise(() => {\n      const numberOfKeys = window.localStorage.length;\n      const keys = [];\n\n      for (let i = 0; i < numberOfKeys; i += 1) {\n        const key = window.localStorage.key(i) || '';\n        keys.push(key);\n      }\n\n      return keys;\n    }, callback);\n  },\n\n  /**\n   * (stub) Flushes any pending requests using a single batch call to get the data.\n   */\n  flushGetRequests: () => undefined,\n\n  /**\n   * multiGet resolves to an array of key-value pair arrays that matches the\n   * input format of multiSet.\n   *\n   *   multiGet(['k1', 'k2']) -> [['k1', 'val1'], ['k2', 'val2']]\n   */\n  multiGet: (keys, callback) => {\n    const promises = keys.map(key => AsyncStorage.getItem(key));\n\n    const processResult = result => result.map((value, i) => [keys[i], value]);\n\n    return createPromiseAll(promises, callback, processResult);\n  },\n\n  /**\n   * Takes an array of key-value array pairs.\n   *   multiSet([['k1', 'val1'], ['k2', 'val2']])\n   */\n  multiSet: (keyValuePairs, callback) => {\n    const promises = keyValuePairs.map(item => AsyncStorage.setItem(item[0], item[1]));\n    return createPromiseAll(promises, callback);\n  },\n\n  /**\n   * Delete all the keys in the `keys` array.\n   */\n  multiRemove: (keys, callback) => {\n    const promises = keys.map(key => AsyncStorage.removeItem(key));\n    return createPromiseAll(promises, callback);\n  },\n\n  /**\n   * Takes an array of key-value array pairs and merges them with existing\n   * values, assuming they are stringified JSON.\n   *\n   *   multiMerge([['k1', 'val1'], ['k2', 'val2']])\n   */\n  multiMerge: (keyValuePairs, callback) => {\n    const promises = keyValuePairs.map(item => {\n      var _AsyncStorage$mergeIt, _AsyncStorage$mergeIt2;\n\n      return (_AsyncStorage$mergeIt = (_AsyncStorage$mergeIt2 = AsyncStorage.mergeItem) === null || _AsyncStorage$mergeIt2 === void 0 ? void 0 : _AsyncStorage$mergeIt2.call(AsyncStorage, item[0], item[1])) !== null && _AsyncStorage$mergeIt !== void 0 ? _AsyncStorage$mergeIt : Promise.reject('Not implemented');\n    });\n    return createPromiseAll(promises, callback);\n  }\n};\nexport default AsyncStorage;\n//# sourceMappingURL=AsyncStorage.js.map","import {\n    Plugin,\n    StateValueAtRoot,\n    PluginCallbacks,\n    State,\n} from '@hookstate/core';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst PluginID = Symbol('AsyncRNPersistence');\n\n// tslint:disable-next-line: function-name\nexport function PersistenceRN(asyncStorageKey: string): () => Plugin {\n    return () => ({\n        id: PluginID,\n        init: (state: State<StateValueAtRoot>) => {\n            AsyncStorage.getItem(asyncStorageKey)\n                .then((persisted) => {\n                    if (persisted !== null) {\n                        const result = JSON.parse(persisted);\n                        state.set(result);\n                    } else if (!state.promised && !!!state.error) {\n                        AsyncStorage.setItem(\n                            asyncStorageKey,\n                            JSON.stringify(state.value)\n                        );\n                    }\n                })\n                .catch((error) => {\n                    throw 'Fail to get item';\n                });\n            return {\n                onSet: (p) => {\n                    if ('state' in p) {\n                        AsyncStorage.setItem(\n                            asyncStorageKey,\n                            JSON.stringify(p.state)\n                        );\n                    } else {\n                        AsyncStorage.removeItem(asyncStorageKey);\n                    }\n                },\n            } as PluginCallbacks;\n        },\n    });\n}\n"],"names":["globalThis","this","isOptionObject","merge"],"mappings":"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"}